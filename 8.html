<html>
  <head>
    <title>Raku By Example</title>
    <meta name="keywords" content="raku">
    <meta name="description" content="Learn Raku By Example">
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono|Open+Sans" rel="stylesheet"> 
  </head>
  <body>
    <div id="everything">
      <div id="title">
        <a href="index.html"><img src="rakudo.png"> Raku By Example</a>
      </div>
      <div id="github">
        <a href="https://ohmycloudy.github.io">View me on<img alt="GitHub" src="github.svg"></a>
      </div>
      <div id="nav">
        <h1>Examples</h1>
        <ul>
            <li><a href="1.html">1.hello-world</a></li>
            <li><a href="2.html">2.variables</a></li>
            <li><a href="3.html">3.types</a></li>
            <li><a href="4.html">4.conditions</a></li>
            <li><a href="5.html">5.looping</a></li>
            <li><a href="6.html">6.subroutines</a></li>
            <li><a href="7.html">7.arrays</a></li>
            <li><a href="8.html">8.hashes</a></li>
            <li><a href="9.html">9.operators</a></li>
            <li><a href="10.html">10.classes</a></li>
            <li><a href="11.html">11.list-comprehension</a></li>
            <li><a href="12.html">12.junctions</a></li>
            <li><a href="13.html">13.pattern-match</a></li>
            <li><a href="14.html">14.whatever</a></li>
            <li><a href="15.html">15.twigil</a></li>
            <li><a href="16.html">16.set</a></li>
            <li><a href="17.html">17.feed</a></li>
            <li><a href="18.html">18.flip</a></li>
            <li><a href="19.html">19.signatures</a></li>
            <li><a href="20.html">20.io</a></li>
            <li><a href="21.html">21.enum</a></li>
            <li><a href="22.html">22.traits</a></li>
            <li><a href="23.html">23.gather-take</a></li>
            <li><a href="24.html">24.subset</a></li>
            <li><a href="25.html">25.sort</a></li>
            <li><a href="26.html">26.smartmatch</a></li>
            <li><a href="27.html">27.roles</a></li>
            <li><a href="28.html">28.multi-dispatch</a></li>
            <li><a href="29.html">29.meta-operators</a></li>
            <li><a href="30.html">30.aomtic</a></li>
            <li><a href="31.html">31.binding</a></li>
            <li><a href="32.html">32.classify</a></li>
            <li><a href="33.html">33.destructure</a></li>
            <li><a href="34.html">34.dbi</a></li>
            <li><a href="35.html">35.dynamic-variables</a></li>
            <li><a href="36.html">36.labels</a></li>
            <li><a href="37.html">37.main</a></li>
            <li><a href="38.html">38.operators</a></li>
            <li><a href="39.html">39.pod</a></li>
            <li><a href="40.html">40.regex</a></li>
            <li><a href="41.html">41.q</a></li>
            <li><a href="42.html">42.topic_variable</a></li>
            <li><a href="43.html">43.hyper_operator</a></li>
            <li><a href="44.html">44.colonpairs</a></li>
            <li><a href="45.html">45.grammar</a></li>
            <li><a href="46.html">46.datetime</a></li>
            <li><a href="47.html">47.comb</a></li>
            <li><a href="48.html">48.chained_comparison</a></li>
            <li><a href="49.html">49.unicode</a></li>
            <li><a href="50.html">50.when</a></li>
            <li><a href="51.html">51.with</a></li>
            <li><a href="52.html">52.rotor</a></li>
            <li><a href="53.html">53.series_operator</a></li>
            <li><a href="54.html">54.range</a></li>
            <li><a href="55.html">55.slip</a></li>
            <li><a href="56.html">56.react_whenever</a></li>
            <li><a href="57.html">57.introspection</a></li>
            <li><a href="58.html">58.promise</a></li>
            <li><a href="59.html">59.threads</a></li>
        </ul>
      </div>
      <div id="content">
        
<pre id='vimCodeElement'>
<span class="Comment">## Hashes</span>
<span class="Comment">##-------</span>

<span class="Comment"># Hashes are like an unordered arrays, where each value is associated </span>
<span class="Comment"># with a string (known as a key), rather than a positional index.</span>

<span class="Comment"># Hashes use the % sigil and are created by enumerating pairs of keys and</span>
<span class="Comment"># values.</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">person</span> <span class="Statement">=</span>
    <span class="Constant">name</span> <span class="Statement">=&gt;</span> <span class="Special">'</span><span class="Constant">Andreas</span><span class="Special">'</span><span class="Statement">,</span>
    <span class="Constant">lastname</span> <span class="Statement">=&gt;</span> <span class="Special">'</span><span class="Constant">Stoa</span><span class="Special">'</span><span class="Statement">,</span>
    <span class="Constant">age</span> <span class="Statement">=&gt;</span> <span class="Constant">41</span><span class="Statement">;</span>

<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">person</span>{<span class="Special">'</span><span class="Constant">name</span><span class="Special">'</span>}<span class="Statement">;</span>           <span class="Comment"># accessing an element</span>
<span class="Identifier">%</span><span class="Identifier">person</span>{<span class="Special">'</span><span class="Constant">age</span><span class="Special">'</span>} <span class="Statement">=</span> <span class="Constant">25</span><span class="Statement">;</span>           <span class="Comment"># updating the value of an element</span>
<span class="Identifier">%</span><span class="Identifier">person</span>{<span class="Special">'</span><span class="Constant">country</span><span class="Special">'</span>} <span class="Statement">=</span> <span class="Special">'</span><span class="Constant">Greece</span><span class="Special">'</span><span class="Statement">;</span> <span class="Comment"># adding a new pair</span>

<span class="Comment"># All values of a hash can have type constraints.</span>
<span class="Special">my</span> <span class="Type">Int</span> <span class="Identifier">%</span><span class="Identifier">binaries</span> <span class="Statement">=</span> <span class="Constant">zero</span> <span class="Statement">=&gt;</span> <span class="Constant">0</span><span class="Statement">,</span> <span class="Constant">one</span> <span class="Statement">=&gt;</span> <span class="Constant">1</span><span class="Statement">;</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">booleans</span> <span class="PreProc">of</span> <span class="Type">Bool</span> <span class="Statement">=</span> <span class="Constant">t</span> <span class="Statement">=&gt;</span> <span class="Type">True</span><span class="Statement">,</span> <span class="Constant">f</span> <span class="Statement">=&gt;</span> <span class="Type">False</span><span class="Statement">;</span> <span class="Comment"># similar thing</span>

<span class="Comment"># The keys of a hash can also have type constraints.</span>
<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">doubles</span>{<span class="Type">Int</span>} <span class="PreProc">of</span> <span class="Type">Int</span><span class="Statement">;</span> <span class="Comment"># constraining both keys and values</span>

<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">doubles</span>{<span class="Constant">21</span>} <span class="Statement">=</span> <span class="Constant">42</span><span class="Statement">;</span>

<span class="Comment">## Some methods</span>
<span class="Comment">##-------------</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">natural-satellites</span> <span class="Statement">=</span> ( <span class="Comment"># during assignment, pairs can be sorrounded by parens</span>
    <span class="Constant">mercury</span> <span class="Statement">=&gt;</span> <span class="Constant">0</span><span class="Statement">,</span>
    <span class="Constant">jupiter</span> <span class="Statement">=&gt;</span> <span class="Constant">79</span><span class="Statement">,</span>
    <span class="Constant">venus</span>   <span class="Statement">=&gt;</span> <span class="Constant">0</span><span class="Statement">,</span>
    <span class="Constant">saturn</span>  <span class="Statement">=&gt;</span> <span class="Constant">62</span><span class="Statement">,</span>
    <span class="Constant">earth</span>   <span class="Statement">=&gt;</span> <span class="Constant">1</span><span class="Statement">,</span>
    <span class="Constant">nepture</span> <span class="Statement">=&gt;</span> <span class="Constant">14</span><span class="Statement">,</span>
    <span class="Constant">mars</span>    <span class="Statement">=&gt;</span> <span class="Constant">2</span><span class="Statement">,</span>
    <span class="Constant">uranus</span>  <span class="Statement">=&gt;</span> <span class="Constant">27</span>
)<span class="Statement">;</span>


<span class="Comment"># `keys` - returns a list of keys of the hash.</span>
<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">planets</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">natural-satellites</span><span class="Statement">.</span><span class="Identifier">keys</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">planets</span><span class="Statement">;</span> <span class="Comment"># (earth uranus nepture saturn venus mercury jupiter mars)</span>

<span class="Comment"># `values` - returns a list of values of the hash.</span>
<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">satellites</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">natural-satellites</span><span class="Statement">.</span><span class="Identifier">values</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">satellites</span><span class="Statement">;</span> <span class="Comment"># (1 27 14 62 0 0 79 2) </span>

<span class="Comment"># `kv` - returns a list of both keys and values.</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">natural-satellites</span><span class="Statement">.</span><span class="Identifier">kv</span><span class="Statement">;</span> <span class="Comment"># (earth 1 uranus 27 nepture 14 saturn 62 venus 0</span>
                            <span class="Comment"># mercury 0 jupiter 79 mars 2)</span>

<span class="Comment"># `pairs` - returns a list of pairs (key/value).</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">natural-satellites</span><span class="Statement">.</span><span class="Identifier">pairs</span><span class="Statement">;</span> <span class="Comment"># (earth =&gt; 1 uranus =&gt; 27 nepture =&gt; 14</span>
                               <span class="Comment"># saturn =&gt; 62 venus =&gt; 0 mercury =&gt; 0</span>
                               <span class="Comment"># jupiter =&gt; 79 mars =&gt; 2)</span>

<span class="Comment"># `antipairs` - returns a list of inverted pairs (value/key).</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">natural-satellites</span><span class="Statement">.</span>antipairs<span class="Statement">;</span> <span class="Comment"># (1 =&gt; earth 27 =&gt; uranus 14 =&gt; nepture</span>
                                   <span class="Comment"># 62 =&gt; saturn 0 =&gt; venus 0 =&gt; mercury</span>
                                   <span class="Comment"># 79 =&gt; jupiter 2 =&gt; mars)</span>

<span class="Comment"># `elems` - returns number of pairs in the hash.</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">natural-satellites</span><span class="Statement">.</span><span class="Identifier">elems</span><span class="Statement">;</span> <span class="Comment"># 8</span>

<span class="Comment">## Hash comphrehensions</span>
<span class="Comment">##---------------------</span>

<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">numbers</span> <span class="Statement">=</span> <span class="Constant">1</span><span class="Statement">,</span> <span class="Constant">2</span><span class="Statement">,</span> <span class="Constant">3</span><span class="Statement">,</span> <span class="Constant">4</span><span class="Statement">,</span> <span class="Constant">5</span><span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">letters</span> <span class="Statement">=</span> <span class="Special">&lt;</span><span class="Constant">A B C D E</span><span class="Special">&gt;</span><span class="Statement">;</span>

<span class="Comment"># Postfix form of for and blocks can be combined to make list comphrehensions.</span>
<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">square-nums</span> <span class="Statement">=</span> <span class="Statement">%</span>( {<span class="Identifier">$</span><span class="Identifier">_</span> <span class="Statement">=&gt;</span> <span class="Identifier">$</span><span class="Identifier">_</span><span class="Statement">**</span><span class="Constant">2</span>} <span class="Statement">for</span> <span class="Identifier">@</span><span class="Identifier">numbers</span> )<span class="Statement">;</span> <span class="Comment"># %() is an alternative way of</span>
                                                   <span class="Comment"># creating a hash.</span>

<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">square-nums</span><span class="Statement">;</span>      <span class="Comment"># {1 =&gt; 1, 2 =&gt; 4, 3 =&gt; 9, 4 =&gt; 16, 5 =&gt; 25}</span>

<span class="Comment"># Conditionals can be applied too.</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">square-even-nums</span> <span class="Statement">=</span> <span class="Statement">%</span>( {<span class="Identifier">$</span><span class="Identifier">_</span> <span class="Statement">=&gt;</span> <span class="Identifier">$</span><span class="Identifier">_</span><span class="Statement">**</span><span class="Constant">2</span>} <span class="Statement">if</span> <span class="Identifier">$</span><span class="Identifier">_</span> <span class="Statement">%%</span> <span class="Constant">2</span> <span class="Statement">for</span> <span class="Identifier">@</span><span class="Identifier">numbers</span> )<span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">square-even-nums</span> <span class="Statement">=</span> <span class="Statement">%</span>( {<span class="Identifier">$</span><span class="Identifier">_</span> <span class="Statement">=&gt;</span> <span class="Identifier">$</span><span class="Identifier">_</span><span class="Statement">**</span><span class="Constant">2</span>} <span class="Statement">if</span> <span class="Identifier">$</span><span class="Identifier">_</span> <span class="Statement">!%%</span> <span class="Constant">2</span> <span class="Statement">for</span> <span class="Identifier">@</span><span class="Identifier">numbers</span> )<span class="Statement">;</span>

<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">square-even-nums</span><span class="Statement">;</span> <span class="Comment"># {2 =&gt; 4, 4 =&gt; 16}</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">square-odd-nums</span><span class="Statement">;</span>  <span class="Comment"># {1 =&gt; 1, 3 =&gt; 9, 5 =&gt; 25}</span>

<span class="Comment"># To obtain a one-to-correspondence, use the zip operator `Z`.</span>
<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">letters-nums</span> <span class="Statement">=</span>  <span class="Statement">%</span>( {<span class="Identifier">$</span><span class="Identifier">_</span>[<span class="Constant">0</span>] <span class="Statement">=&gt;</span> <span class="Identifier">$</span><span class="Identifier">_</span>[<span class="Constant">1</span>]} <span class="Statement">for</span> <span class="Identifier">@</span><span class="Identifier">letters</span> <span class="Statement">Z</span> <span class="Identifier">@</span><span class="Identifier">numbers</span> )<span class="Statement">;</span>

<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">letters-nums</span><span class="Statement">;</span>     <span class="Comment"># {A =&gt; 1, B =&gt; 2, C =&gt; 3, D =&gt; 4, E =&gt; 5}</span>

<span class="Comment"># Or using the flat function.</span>
<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">letters-nums1</span> <span class="Statement">=</span> <span class="Statement">%</span>( flat <span class="Identifier">@</span><span class="Identifier">letters</span> <span class="Statement">Z</span> <span class="Identifier">@</span><span class="Identifier">numbers</span> )<span class="Statement">;</span>

<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">letters-nums1</span><span class="Statement">;</span>    <span class="Comment"># {A =&gt; 1, B =&gt; 2, C =&gt; 3, D =&gt; 4, E =&gt; 5}</span>


<span class="Comment">## bag union</span>

<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">a</span> <span class="Statement">=</span> bag <span class="Special">&lt;</span><span class="Constant">a a a b b c</span><span class="Special">&gt;</span><span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">b</span> <span class="Statement">=</span> bag <span class="Special">&lt;</span><span class="Constant">a b b b</span><span class="Special">&gt;</span><span class="Statement">;</span>

<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">a</span> (<span class="Statement">|</span>) <span class="Identifier">$</span><span class="Identifier">b</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">a</span> (<span class="Statement">&amp;</span>) <span class="Identifier">$</span><span class="Identifier">b</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">a</span> (<span class="Statement">+</span>) <span class="Identifier">$</span><span class="Identifier">b</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">a</span> (<span class="Statement">.</span>) <span class="Identifier">$</span><span class="Identifier">b</span><span class="Statement">;</span>


<span class="Comment">## bags</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">words</span> <span class="Statement">:=</span> <span class="Type">Bag</span><span class="Statement">.</span><span class="Identifier">new</span>(<span class="Identifier">slurp</span><span class="Statement">.</span><span class="Identifier">comb</span>(<span class="Special">/</span><span class="Special">\w</span><span class="Special">+</span><span class="Special">/</span>)<span class="Statement">.</span><span class="Identifier">map</span>(<span class="Statement">*.</span><span class="Identifier">lc</span>))<span class="Statement">;</span>

<span class="Identifier">say</span> <span class="Special">&quot;</span><span class="Identifier">%</span><span class="Identifier">words</span>{}<span class="Special">&quot;</span><span class="Statement">;</span>

<span class="Comment">## count words</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">words</span><span class="Statement">;</span>
<span class="Statement">for</span> <span class="Identifier">slurp</span><span class="Statement">.</span><span class="Identifier">comb</span>(<span class="Special">/</span><span class="Special">\w</span><span class="Special">+</span><span class="Special">/</span>)<span class="Statement">.</span><span class="Identifier">map</span>(<span class="Statement">*.</span><span class="Identifier">lc</span>) <span class="Statement">-&gt;</span> <span class="Identifier">$</span><span class="Identifier">word</span> {
    <span class="Identifier">%</span><span class="Identifier">words</span>{<span class="Identifier">$</span><span class="Identifier">word</span>}<span class="Statement">++;</span>
}

<span class="Statement">for</span> <span class="Identifier">%</span><span class="Identifier">words</span><span class="Statement">.</span><span class="Identifier">pairs</span><span class="Statement">.</span><span class="Identifier">sort</span>(<span class="Statement">-*.</span><span class="Identifier">value</span>)<span class="Statement">.</span><span class="Identifier">map</span>({ <span class="Identifier">$</span><span class="Identifier">_</span><span class="Statement">.</span><span class="Identifier">key</span><span class="Statement">,</span> <span class="Identifier">$</span><span class="Identifier">_</span><span class="Statement">.</span><span class="Identifier">value</span> }) <span class="Statement">-&gt;</span> <span class="Identifier">$</span><span class="Identifier">word</span><span class="Statement">,</span> <span class="Identifier">$</span><span class="Identifier">count</span> {
    <span class="Identifier">say</span> <span class="Special">&quot;</span><span class="Identifier">$</span><span class="Identifier">word</span><span class="Constant">: </span><span class="Identifier">$</span><span class="Identifier">count</span><span class="Special">&quot;</span><span class="Statement">;</span>
}

<span class="Comment">## 散列</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">dev</span> <span class="Statement">=</span>  <span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span><span class="Statement">=&gt;</span><span class="Special">'</span><span class="Constant">audreyt</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">'</span><span class="Constant">pct</span><span class="Special">'</span><span class="Statement">=&gt;</span><span class="Special">'</span><span class="Constant">pm</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">&quot;</span><span class="Constant">STD</span><span class="Special">&quot;</span><span class="Statement">=&gt;</span><span class="Special">'</span><span class="Constant">larry</span><span class="Special">'</span><span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">same_dev</span> <span class="Statement">=</span> <span class="Statement">:</span><span class="Constant">rakudo</span>(<span class="Special">'</span><span class="Constant">jnthn</span><span class="Special">'</span>)<span class="Statement">,</span> <span class="Statement">:</span><span class="Constant">testsuite</span>(<span class="Special">'</span><span class="Constant">moritz</span><span class="Special">'</span>)<span class="Statement">;</span>            <span class="Comment"># adverb (pair) syntax works as well</span>
<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">too_dev</span> <span class="Statement">=</span> (<span class="Special">'</span><span class="Constant">audreyt</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">'</span><span class="Constant">pm</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">'</span><span class="Constant">pct</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">'</span><span class="Constant">larry</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">&quot;</span><span class="Constant">STD</span><span class="Special">&quot;</span>)<span class="Statement">;</span>  <span class="Comment"># lists get autoconverted in hash context</span>
<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">compiler</span> <span class="Statement">=</span> <span class="Constant">Parrot</span> <span class="Statement">=&gt;</span> {<span class="Constant">Rakudo</span> <span class="Statement">=&gt;</span> <span class="Special">'</span><span class="Constant">jnthn</span><span class="Special">'</span>}<span class="Statement">,</span> <span class="Constant">SMOP</span> <span class="Statement">=&gt;</span> {<span class="Constant">Mildew</span> <span class="Statement">=&gt;</span> <span class="Special">'</span><span class="Constant">ruoso</span><span class="Special">'</span>}<span class="Statement">;</span>       <span class="Comment"># hash of hashes (HoH)</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">perl</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">same_dev</span><span class="Statement">.</span><span class="Identifier">perl</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">too_dev</span><span class="Statement">.</span><span class="Identifier">perl</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">compiler</span><span class="Statement">.</span><span class="Identifier">perl</span><span class="Statement">;</span>

<span class="Comment"># Hash Slices</span>
<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">name</span><span class="Statement">=</span><span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span><span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">value</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span>{<span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span>}<span class="Statement">;</span>      <span class="Comment"># just give me the value related to that key, like in P5</span>
<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">value1</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Special">&lt;</span><span class="Constant">STD</span><span class="Special">&gt;</span><span class="Statement">;</span>         <span class="Comment"># &lt;&gt; autoquotes like qw() in P5</span>
<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">value2</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Special">&lt;&lt;</span><span class="Identifier">$</span><span class="Identifier">name</span><span class="Special">&gt;&gt;</span><span class="Statement">;</span>     <span class="Comment"># same thing, just with eval</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">value</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">value2</span><span class="Statement">;</span>

<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">values</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span>{<span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span><span class="Statement">,</span> <span class="Special">'</span><span class="Constant">STD</span><span class="Special">'</span>}<span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">values2</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Special">&lt;</span><span class="Constant">pugs STD</span><span class="Special">&gt;</span><span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">values3</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Special">&lt;&lt;</span><span class="Constant">pugs STD </span><span class="Identifier">$</span><span class="Identifier">name</span><span class="Special">&gt;&gt;</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">values</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">values2</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">values3</span><span class="Statement">;</span>

<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">compiler</span><span class="Special">&lt;</span><span class="Constant">Parrot</span><span class="Special">&gt;&lt;</span><span class="Constant">Rakudo</span><span class="Special">&gt;</span><span class="Statement">;</span> <span class="Comment"># value in a HoH, returns 'jnthn'</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">compiler</span><span class="Special">&lt;</span><span class="Constant">SMOP</span><span class="Special">&gt;</span><span class="Statement">;</span>           <span class="Comment"># returns the Pair: Mildew =&gt; 'ruoso'</span>

<span class="Comment"># %dev   {'audrey'};         # error, spaces between varname and braces (postcircumfix operator) are no longer allowed</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">\</span>  {<span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span>}<span class="Statement">;</span>        <span class="Comment"># works, quote the space</span>
<span class="Comment"># %dev   .&lt;dukeleto&gt;;        # error</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">\</span> <span class="Statement">.</span>{<span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span>}<span class="Statement">;</span>        <span class="Comment"># works too, &quot;long dot style&quot;, because its its an object in truth </span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span>{<span class="Special">'</span><span class="Constant">pugs</span><span class="Special">'</span>}<span class="Statement">;</span>


<span class="Comment"># Hash Methods</span>
<span class="Identifier">say</span> <span class="Special">'</span><span class="Constant">this hash has some pairs</span><span class="Special">'</span> <span class="Statement">if</span> <span class="Statement">?</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">;</span>                    <span class="Comment"># bool context, true if hash has any pairs</span>
<span class="Identifier">say</span> <span class="Special">'</span><span class="Constant">this hash has </span><span class="Special">'</span><span class="Statement">~</span> <span class="Statement">+</span> <span class="Identifier">%</span><span class="Identifier">dev</span> <span class="Statement">~</span><span class="Special">'</span><span class="Constant"> pairs</span><span class="Special">'</span><span class="Statement">;</span>                      <span class="Comment"># numeric context, returns number of pairs(keys)</span>
<span class="Identifier">say</span> <span class="Statement">~</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">;</span>                    <span class="Comment"># string context, nicely formatted 2 column table using \t and \n</span>

<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">table</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">;</span>             <span class="Comment"># same as ~ %dev</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">table</span><span class="Statement">;</span>                   <span class="Comment"># (&quot;pugs&quot; =&gt; &quot;audreyt&quot;, &quot;pct&quot; =&gt; &quot;pm&quot;, &quot;STD&quot; =&gt; &quot;larry&quot;).hash</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">say</span><span class="Statement">;</span>                 <span class="Comment"># stringified, but only $key and $value are separated by \t  #(&quot;pugs&quot; =&gt; &quot;audreyt&quot;, &quot;pct&quot; =&gt; &quot;pm&quot;, &quot;STD&quot; =&gt; &quot;larry&quot;).hash</span>
<span class="Special">my</span>  <span class="Identifier">@</span><span class="Identifier">pairs</span> <span class="Statement">=</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">;</span>             <span class="Comment"># list of all containing pairs</span>
<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">pairs</span><span class="Statement">;</span>                    <span class="Comment"># &quot;pugs&quot; =&gt; &quot;audreyt&quot; &quot;pct&quot; =&gt; &quot;pm&quot; &quot;STD&quot; =&gt; &quot;larry&quot;</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">pairs</span><span class="Statement">;</span>                 <span class="Comment"># same thing in all context  # &quot;pugs&quot; =&gt; &quot;audreyt&quot; &quot;pct&quot; =&gt; &quot;pm&quot; &quot;STD&quot; =&gt; &quot;larry&quot;</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">elems</span><span class="Statement">;</span>                 <span class="Comment"># same as + %dev or + %dev.pairs  # 3</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">keys</span><span class="Statement">;</span>                  <span class="Comment"># returns the list with all keys</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">values</span><span class="Statement">;</span>                <span class="Comment"># list of all values</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">kv</span><span class="Statement">;</span>                    <span class="Comment"># flat list with key1, value1, key 2 ...</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">invert</span><span class="Statement">;</span>                <span class="Comment"># reverse all key =&gt; value relations</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">dev</span><span class="Statement">.</span><span class="Identifier">push</span>(<span class="Identifier">@</span><span class="Identifier">pairs</span>)<span class="Statement">;</span>         <span class="Comment"># inserts a list of pairs, if a key is already present in %dev, both values gets added to an array</span>
<span class="Comment"># (&quot;pugs&quot; =&gt; [&quot;audreyt&quot;, &quot;audreyt&quot;], &quot;pct&quot; =&gt; [&quot;pm&quot;, &quot;pm&quot;], &quot;STD&quot; =&gt; [&quot;larry&quot;, &quot;larry&quot;]).hash</span>

<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">another_pairs</span><span class="Statement">=</span><span class="Special">'</span><span class="Constant">Rakudo</span><span class="Special">'</span><span class="Statement">=&gt;</span><span class="Special">'</span><span class="Constant">Perl6</span><span class="Special">'</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">same_dev</span><span class="Statement">.</span><span class="Identifier">push</span>(<span class="Identifier">@</span><span class="Identifier">another_pairs</span>)<span class="Statement">;</span>

<span class="Comment">## key-of</span>

<span class="Comment"># You can also destructure hashes (and classes, which you'll learn about later !)</span>
<span class="Comment"># The syntax is basically `%hash-name (:key($variable-to-store-value-in))`.</span>
<span class="Comment"># The hash can stay anonymous if you only need the values you extracted.</span>
<span class="Statement">sub</span> key-of(<span class="Statement">%</span> (<span class="Statement">:</span><span class="Constant">value</span>(<span class="Identifier">$</span><span class="Identifier">val</span>)<span class="Statement">,</span> <span class="Statement">:</span><span class="Constant">qua</span>(<span class="Identifier">$</span><span class="Identifier">qua</span>))) {
  <span class="Identifier">say</span> <span class="Special">&quot;</span><span class="Constant">Got val </span><span class="Identifier">$</span><span class="Identifier">val</span><span class="Constant">, </span><span class="Identifier">$</span><span class="Identifier">qua</span><span class="Constant"> times.</span><span class="Special">&quot;</span><span class="Statement">;</span>
}

<span class="Comment"># Then call it with a hash: (you need to keep the brackets for it to be a hash)</span>
key-of({<span class="Constant">value</span> <span class="Statement">=&gt;</span> <span class="Special">'</span><span class="Constant">foo</span><span class="Special">'</span><span class="Statement">,</span> <span class="Constant">qua</span> <span class="Statement">=&gt;</span> <span class="Constant">1</span>})<span class="Statement">;</span>
<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">hash</span> <span class="Statement">=</span> <span class="Constant">value</span> <span class="Statement">=&gt;</span> <span class="Special">'</span><span class="Constant">Perl6</span><span class="Special">'</span><span class="Statement">,</span> <span class="Constant">qua</span> <span class="Statement">=&gt;</span> <span class="Special">'</span><span class="Constant">2016</span><span class="Special">'</span><span class="Statement">;</span>
key-of(<span class="Identifier">%</span><span class="Identifier">hash</span>)<span class="Statement">;</span> <span class="Comment"># the same (for an equivalent `%hash`);</span>


<span class="Comment">## pick 和 roll</span>

<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">bag</span> <span class="Statement">=</span> bag <span class="Special">&quot;</span><span class="Constant">red</span><span class="Special">&quot;</span> <span class="Statement">=&gt;</span> <span class="Constant">2</span><span class="Statement">,</span> <span class="Special">&quot;</span><span class="Constant">blue</span><span class="Special">&quot;</span> <span class="Statement">=&gt;</span> <span class="Constant">10</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">bag</span><span class="Statement">.</span>roll(<span class="Constant">10</span>)<span class="Statement">;</span> <span class="Comment"># 随机生成 10 组</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">bag</span><span class="Statement">.</span><span class="Identifier">pick</span>(<span class="Statement">*</span>)<span class="Statement">.</span><span class="Identifier">join</span>(<span class="Special">&quot;</span><span class="Special">\n</span><span class="Special">&quot;</span>)<span class="Statement">;</span>

<span class="Identifier">$</span><span class="Identifier">bag</span> <span class="Statement">=</span> bag <span class="Special">&quot;</span><span class="Constant">red</span><span class="Special">&quot;</span> <span class="Statement">=&gt;</span> <span class="Constant">20000000000000000001</span><span class="Statement">,</span> <span class="Special">&quot;</span><span class="Constant">blue</span><span class="Special">&quot;</span> <span class="Statement">=&gt;</span> <span class="Constant">100000000000000000000</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">bag</span><span class="Statement">.</span>roll(<span class="Constant">10</span>)<span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">bag</span><span class="Statement">.</span><span class="Identifier">pick</span>(<span class="Constant">10</span>)<span class="Statement">.</span><span class="Identifier">join</span>(<span class="Special">&quot;</span><span class="Constant"> </span><span class="Special">&quot;</span>)<span class="Statement">;</span>

<span class="Comment">## 切片</span>

<span class="Comment"># Semilists are semicolon lists</span>

<span class="Special">my</span> <span class="Identifier">%</span><span class="Identifier">hash</span> <span class="Statement">=</span> <span class="Constant">a</span> <span class="Statement">=&gt;</span> {<span class="Constant">b</span> <span class="Statement">=&gt;</span> <span class="Constant">2</span><span class="Statement">,</span> <span class="Constant">c</span> <span class="Statement">=&gt;</span> <span class="Constant">4</span>}<span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">hash</span>{<span class="Special">&quot;</span><span class="Constant">a</span><span class="Special">&quot;</span>}{<span class="Special">&quot;</span><span class="Constant">b</span><span class="Special">&quot;</span>}<span class="Statement">.</span><span class="Identifier">perl</span><span class="Statement">;</span> <span class="Comment"># 2</span>
<span class="Identifier">say</span> <span class="Identifier">%</span><span class="Identifier">hash</span>{<span class="Special">&quot;</span><span class="Constant">a</span><span class="Special">&quot;</span><span class="Statement">;</span><span class="Special">&quot;</span><span class="Constant">b</span><span class="Special">&quot;</span>}<span class="Statement">.</span><span class="Identifier">perl</span><span class="Statement">;</span> <span class="Comment"># (2,) </span>

<span class="Special">my</span> <span class="Identifier">@</span><span class="Identifier">sliceable</span> <span class="Statement">=</span> [[ <span class="Statement">^</span><span class="Constant">10</span> ]<span class="Statement">,</span> [<span class="Special">'</span><span class="Constant">a</span><span class="Special">'</span><span class="Statement">..</span><span class="Special">'</span><span class="Constant">h</span><span class="Special">'</span>]<span class="Statement">,</span> [<span class="Special">'</span><span class="Constant">Ⅰ</span><span class="Special">'</span><span class="Statement">..</span><span class="Special">'</span><span class="Constant">Ⅺ</span><span class="Special">'</span>]]<span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">@</span><span class="Identifier">sliceable</span>[ <span class="Statement">^</span><span class="Constant">3</span><span class="Statement">;</span> <span class="Constant">4</span><span class="Statement">..</span><span class="Constant">6</span> ]<span class="Statement">;</span>

<span class="Comment">## SetHash</span>

<span class="Special">my</span> <span class="Identifier">$</span><span class="Identifier">haԭ</span> <span class="Statement">=</span> SetHash<span class="Statement">.</span><span class="Identifier">new</span>()<span class="Statement">;</span>
<span class="Identifier">$</span><span class="Identifier">haԭ</span>{<span class="Special">'</span><span class="Constant">a</span><span class="Special">'</span>} <span class="Statement">=</span> <span class="Type">True</span><span class="Statement">;</span>
<span class="Identifier">say</span> <span class="Identifier">$</span><span class="Identifier">haԭ</span><span class="Statement">,</span> <span class="Special">&quot;</span><span class="Constant"> in a </span><span class="Special">&quot;</span><span class="Statement">,</span> <span class="Identifier">$</span><span class="Identifier">haԭ</span><span class="Statement">.^</span><span class="Identifier">name</span><span class="Statement">;</span>
</pre>

      </div>
    </div>
  </body>
</html>
